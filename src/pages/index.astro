---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
---

<BaseLayout>
  <Header />

  <main id="main-content">
    <!-- HERO SECTION -->
    <section id="hero" class="hero-section">
      <div class="hero-content">
        <div class="hero-eyebrow">FOIL ENGINEERING</div>
        <h1 class="hero-title">
          Solving problems,<br>
          <i>not just</i><br>
          <span class="highlight">building solutions</span>
        </h1>
        <p class="hero-subtitle">
          Product solutions. // Service design and process management. // Bespoke tooling.
        </p>
        <p class="hero-support">Over 10 years of software and people experience; helping you get the right solution to the right problem.</p>
        <a href="#services" class="cta-button">Explore Services</a>
      </div>
    </section>

    <!-- SOLUTIONS SECTION -->
    <section id="services" class="section solutions-section">
      <div class="section-header">
        <div class="section-eyebrow">WHAT WE DO</div>
        <h2 class="section-title">Services</h2>
        <p class="section-subtitle">
          From organizational and process change to 0-1 product design and custom tooling.
        </p>
      </div>

      <div class="solutions-grid">
        <!-- Product Management Card -->
        <article class="tool-card">
          <div class="card-gradient-top"></div>
          <div class="card-header">
            <div>
              <h3 class="card-title">Product Management</h3>
              <p class="card-tagline">"People dont want to buy a quarter inch drill, they want a quarter inch hole."</p>
              <div class="card-skills">
                <span class="skill-pill">Product Strategy</span>
                <span class="skill-pill">User Research</span>
                <span class="skill-pill">Data Analysis</span>
                <span class="skill-pill">GTM Planning</span>
              </div>
            </div>
            <a href="#contact" class="card-action-link">Learn More</a>
          </div>
          <div class="card-expand-trigger" role="button" tabindex="0" aria-expanded="false" aria-label="Expand details">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M5 8L10 13L15 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div class="card-services">
            <div class="card-services-inner">
              <h5 class="services-heading">Services</h5>
              <dl class="services-list">
                <dt>Product Strategy & Vision</dt>
                <dd>Defining product-market fit, user personas, competitive analysis, and long-term vision.</dd>

                <dt>0-1 Product Management</dt>
                <dd>Validating, designing, planning, building, testing, and launching new products and features.</dd>

                <dt>Agile Team Leadership</dt>
                <dd>Agile ceremonies and facilitation for cross-functional teams of all sizes.</dd>

                <dt>Product Coaching</dt>
                <dd>Working with new Product Managers and stakeholders to better represent product needs and process.</dd>

                <dt>Metrics & A/B Testing</dt>
                <dd>Setting up data pipelines, dashboards, and experiments to measure success and inform roadmap decisions.</dd>

                <dt>Go-to-Market Strategy</dt>
                <dd>How, where, and when to launch.</dd>

                <dt>User Research & Testing</dt>
                <dd>Interviews, surveys, usability testing, and sentiment analysis.</dd>

                <dt>Roadmap Planning</dt>
                <dd>Prioritization frameworks, stakeholder alignment, and delivery tracking.</dd>
              </dl>
            </div>
          </div>
        </article>

        <!-- Service Design Card -->
        <article class="tool-card">
          <div class="card-gradient-top"></div>
          <div class="card-header">
            <div>
              <h3 class="card-title">Service Design</h3>
              <p class="card-tagline">"The best process is the one people actually follow."</p>
              <div class="card-skills">
                <span class="skill-pill">Agile Leadership</span>
                <span class="skill-pill">Process Design</span>
                <span class="skill-pill">Roadmap Mgmt</span>
                <span class="skill-pill">Stakeholder Alignment</span>
              </div>
            </div>
            <a href="#contact" class="card-action-link">Learn More</a>
          </div>
          <div class="card-expand-trigger" role="button" tabindex="0" aria-expanded="false" aria-label="Expand details">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M5 8L10 13L15 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div class="card-services">
            <div class="card-services-inner">
              <h5 class="services-heading">Services</h5>
              <dl class="services-list">
                <dt>Process Architecture</dt>
                <dd>Designing workflows that scale with organizational complexity while staying simple to follow.</dd>

                <dt>Agile Transformation</dt>
                <dd>Building frameworks for distributed teams—ceremonies, cadences, and communication patterns that actually work.</dd>

                <dt>Operational Documentation</dt>
                <dd>Runbooks, SOPs, and knowledge bases that people reference instead of ignore.</dd>

                <dt>Issue & Request Systems</dt>
                <dd>Intake, triage, and resolution workflows that reduce bottlenecks and cycle time.</dd>

                <dt>Executive Reporting</dt>
                <dd>Dashboards and reporting pipelines that surface what leadership needs to know.</dd>

                <dt>Cross-Functional Enablement</dt>
                <dd>Training materials, onboarding guides, and reference content that empowers teams to self-serve.</dd>

                <dt>Change Management</dt>
                <dd>Rolling out new processes with adoption strategies that stick.</dd>
              </dl>
            </div>
          </div>
        </article>

        <!-- Bespoke Tooling Card -->
        <article class="tool-card">
          <div class="card-gradient-top"></div>
          <div class="card-header">
            <div>
              <h3 class="card-title">Bespoke Tooling</h3>
              <p class="card-tagline">"If you can spec it, I can build it."</p>
              <div class="card-skills">
                <span class="skill-pill">Python / FastAPI</span>
                <span class="skill-pill">Vue / Astro</span>
                <span class="skill-pill">AI / LLMs / RAG</span>
                <span class="skill-pill">API Design</span>
              </div>
            </div>
            <a href="/TheNumber" class="card-action-link">The Number App</a>
          </div>
          <div class="card-expand-trigger" role="button" tabindex="0" aria-expanded="false" aria-label="Expand details">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M5 8L10 13L15 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div class="card-services">
            <div class="card-services-inner">
              <h5 class="services-heading">Capabilities</h5>
              <dl class="services-list">
                <dt>AI-Powered Applications</dt>
                <dd>Custom tools leveraging LLMs with RAG architecture, prompt engineering, and reliability patterns.</dd>

                <dt>Internal Tools & Dashboards</dt>
                <dd>Admin panels, analytics suites, and operational interfaces tailored to your workflow.</dd>

                <dt>Workflow Automation</dt>
                <dd>Scripts, integrations, and pipelines that eliminate repetitive manual work.</dd>

                <dt>Data Processing & ETL</dt>
                <dd>Pipelines that clean, transform, and move data where it needs to go.</dd>

                <dt>API Development</dt>
                <dd>RESTful services, integrations, and middleware connecting your systems.</dd>

                <dt>Prototypes & MVPs</dt>
                <dd>Functional proof-of-concepts to validate ideas before major investment.</dd>
              </dl>
              <p class="services-stack">Stack: Python, FastAPI, Vue 3, SQL, Claude API</p>
            </div>
          </div>
        </article>
      </div>
    </section>

    <!-- ABOUT SECTION -->
    <section id="about" class="section about-section">
      <div class="section-header">
        <div class="section-eyebrow">WHO WE ARE</div>
        <h2 class="section-title">About</h2>
      </div>

      <div class="about-content">
        <div class="about-bio-layout">
          <div class="about-photo">
            <img src="/images/watson-headshot.jpg" alt="Watson Mulkey" class="about-photo-img" />
          </div>

          <div class="about-bio">
            <p class="about-text">
              I'm <strong>Watson</strong>, I have over 10 years of working in tech and I believe the most important part of any project is understanding the correct problem. Too often, teams build exactly what was asked for—and miss what was actually needed. That gap is where I work.
            </p>
            <p class="about-text">
              With over 10 years of tech experience as a Product Manager, I've worked with numerous brands and companies like <strong>Bookshop.org</strong>, <strong>Sony</strong>, <strong>Whirlpool</strong>, and <strong>IBM</strong>.
            </p>
            <p class="about-text">
              The name <strong>FOIL</strong> comes from literary theory—a foil character exists to make the protagonist shine. That's the role of everything I build: <em>amplify your strengths, don't overshadow them</em>. Whether it's a full website rebuild, an internal tool, or a process overhaul, the philosophy is the same—build the right solution for the correct problem.
            </p>
          </div>
        </div>

      </div>
    </section>

    <!-- CONTACT SECTION -->
    <section id="contact" class="section contact-section">
      <div class="section-header">
        <div class="section-eyebrow">GET IN TOUCH</div>
        <h2 class="section-title">Contact</h2>
        <p class="section-subtitle">
          Interested in collaboration or have questions about the tools? Let's connect.
        </p>
      </div>

      <div class="contact-content">
        <a href="mailto:watson@foilengineering.com" class="contact-email">
          watson@foilengineering.com
        </a>
        <p class="contact-note">
          Currently accepting freelance projects and product management opportunities.
        </p>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <p>&copy; 2026 FOIL Engineering.</p>
  </footer>

</BaseLayout>

<style>
  /* HERO SECTION */
  .hero-section {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--spacing-4xl) 5% 100px 5%;
    text-align: center;
    position: relative;
    margin-top: 90px;
  }

  /* Desktop: offset hero for sidebar */
  @media (min-width: 1024px) {
    .hero-section {
      padding-left: 200px;
    }
  }

  /* Light explosion from bottom-left - inspired by photographic lens flare */
  /* Positioned on main element so it bleeds across sections */
  main::before {
    content: '';
    position: fixed;
    bottom: -15%;
    left: -12%;
    width: 85%;
    height: 120vh;
    background: radial-gradient(
      ellipse at center,
      rgba(212, 160, 23, 0.65) 0%,
      rgba(201, 169, 97, 0.5) 20%,
      rgba(212, 133, 0, 0.35) 35%,
      rgba(74, 95, 122, 0.18) 50%,
      rgba(74, 95, 122, 0.08) 60%,
      transparent 75%
    );
    filter: blur(120px);
    opacity: 1;
    pointer-events: none;
    animation: pulse-glow 8s ease-in-out infinite;
    z-index: 0;
  }

  /* Warm-to-cool gradient overlay */
  .hero-section::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      to bottom,
      transparent 0%,
      rgba(43, 46, 51, 0.15) 40%,
      rgba(26, 29, 33, 0.3) 100%
    );
    pointer-events: none;
    z-index: 0;
  }

  @keyframes pulse-glow {
    0%, 100% {
      opacity: 0.95;
      transform: scale(1);
    }
    50% {
      opacity: 1;
      transform: scale(1.08);
    }
  }

  /* Ensure content sits above lens flare */
  main > * {
    position: relative;
    z-index: 1;
  }

  .hero-content {
    position: relative;
    z-index: 1;
    max-width: 850px;
  }

  /* Floating particles - mimicking dust specs in photograph */
  .hero-title::before,
  .hero-title::after,
  .hero-subtitle::before,
  .hero-subtitle::after {
    content: '';
    position: absolute;
    width: 3px;
    height: 3px;
    background: rgba(255, 255, 255, 0.6);
    border-radius: 50%;
    pointer-events: none;
    animation: float-particle 12s ease-in-out infinite;
    box-shadow: 0 0 4px rgba(255, 255, 255, 0.4);
  }

  .hero-title::before {
    top: 15%;
    left: 10%;
    animation-delay: 0s;
  }

  .hero-title::after {
    top: 70%;
    right: 15%;
    animation-delay: 3s;
    width: 2px;
    height: 2px;
  }

  .hero-subtitle::before {
    top: -30px;
    left: 20%;
    animation-delay: 6s;
    width: 4px;
    height: 4px;
  }

  .hero-subtitle::after {
    bottom: -40px;
    right: 25%;
    animation-delay: 9s;
    width: 2.5px;
    height: 2.5px;
  }

  @keyframes float-particle {
    0%, 100% {
      transform: translate(0, 0);
      opacity: 0.3;
    }
    25% {
      transform: translate(15px, -20px);
      opacity: 0.7;
    }
    50% {
      transform: translate(-10px, -35px);
      opacity: 1;
    }
    75% {
      transform: translate(20px, -15px);
      opacity: 0.5;
    }
  }

  .hero-eyebrow {
    font-size: 13px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 4px;
    color: rgba(201, 169, 97, 0.9);
    margin-bottom: var(--spacing-md);
  }

  .hero-title {
    margin-bottom: var(--spacing-lg);
  }

  .hero-title .highlight {
    color: var(--color-mustard);
    text-shadow:
      0 0 20px rgba(212, 160, 23, 0.4),
      0 0 40px rgba(212, 160, 23, 0.2),
      0 0 60px rgba(212, 160, 23, 0.1);
    filter: brightness(1.1);
  }

  .hero-subtitle {
    font-size: clamp(19px, 1.9vw, 26px);
    color: rgba(209, 209, 209, 0.85);
    max-width: 700px;
    margin: 0 auto var(--spacing-md);
    line-height: 1.65;
  }

  .hero-support {
    font-size: 16px;
    color: var(--color-terracotta-light);
    font-weight: 600;
    margin-bottom: var(--spacing-2xl);
    font-style: italic;
  }

  .cta-button {
    display: inline-block;
    padding: 26px 68px;
    background-color: var(--color-mustard);
    color: var(--color-charcoal);
    font-size: 16px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    border-radius: 8px;
    box-shadow:
      0 7px 28px rgba(212, 160, 23, 0.3),
      0 0 30px rgba(212, 160, 23, 0.25);
    transition: all 320ms var(--transition-spring);
    position: relative;
  }

  /* Halo glow effect on button */
  .cta-button::before {
    content: '';
    position: absolute;
    inset: -3px;
    background: radial-gradient(
      circle at center,
      rgba(212, 160, 23, 0.3) 0%,
      transparent 70%
    );
    border-radius: 10px;
    opacity: 0;
    transition: opacity 320ms ease;
    pointer-events: none;
    filter: blur(8px);
  }

  .cta-button:hover::before {
    opacity: 1;
  }

  .cta-button:hover,
  .cta-button:focus-visible {
    background-color: var(--color-gold);
    transform: translateY(-3px) scale(1.02);
    box-shadow: 0 14px 45px rgba(212, 160, 23, 0.45);
    color: var(--color-charcoal);
  }

  /* SOLUTIONS SECTION */
  .solutions-section {
    background-color: rgba(53, 56, 61, 0.3);
    position: relative;
  }

  .solutions-grid {
    max-width: 950px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  .tool-card {
    background-color: var(--color-card-light);
    padding: 16px 20px;
    border-radius: 12px;
    border: 1px solid rgba(74, 95, 122, 0.12);
    box-shadow: 0 12px 35px rgba(0, 0, 0, 0.4);
    position: relative;
    overflow: hidden;
    transition: all var(--transition-slow) var(--transition-spring);
  }

  /* Top gradient accent (hidden by default) */
  .card-gradient-top {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--color-slate-blue) 0%, var(--color-terracotta) 100%);
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 370ms ease;
  }

  .tool-card:hover .card-gradient-top,
  .tool-card:focus-within .card-gradient-top {
    transform: scaleX(1);
  }

  .tool-card:hover,
  .tool-card:focus-within {
    transform: translateY(-9px);
    box-shadow: 0 24px 55px rgba(0, 0, 0, 0.5);
    border-color: var(--color-slate-blue);
  }

  /* Radial glow on hover */
  .tool-card::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 300px;
    height: 300px;
    background: radial-gradient(circle, rgba(74, 95, 122, 0.08) 0%, transparent 70%);
    transform: translate(-50%, -50%);
    opacity: 0;
    transition: opacity var(--transition-slow) ease;
    pointer-events: none;
  }

  .tool-card:hover::before,
  .tool-card:focus-within::before {
    opacity: 1;
  }

  .card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: var(--spacing-sm);
    position: relative;
  }

  .card-title {
    color: var(--color-card-dark-text);
    margin-bottom: 6px;
  }

  .card-tagline {
    font-size: 15px;
    font-weight: 600;
    font-style: italic;
    color: var(--color-ochre);
    margin-bottom: 8px;
  }

  .card-skills {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
  }

  .skill-pill {
    font-size: 10px;
    padding: 4px 10px;
    background: rgba(74, 95, 122, 0.15);
    color: var(--color-steel-blue);
    border-radius: 12px;
    border: 1px solid rgba(74, 95, 122, 0.2);
    font-weight: 600;
    letter-spacing: 0.3px;
  }

  .card-action-link {
    display: inline-block;
    padding: 10px 24px;
    border: 2px solid var(--color-slate-blue);
    background-color: transparent;
    color: var(--color-slate-blue);
    font-size: 12px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    border-radius: 6px;
    transition: all var(--transition-base) ease;
    white-space: nowrap;
    align-self: flex-start;
    flex-shrink: 0;
  }

  .card-action-link:hover,
  .card-action-link:focus-visible {
    background-color: var(--color-mustard);
    border-color: var(--color-mustard);
    color: var(--color-card-dark-text);
    transform: translateY(-2px);
    box-shadow: 0 4px 16px rgba(212, 160, 23, 0.3);
  }

  /* EXPAND TRIGGER */
  .card-expand-trigger {
    text-align: center;
    cursor: pointer;
    padding: 4px 0;
    color: var(--color-slate-blue);
    transition: color var(--transition-base) ease;
  }

  .card-expand-trigger:hover {
    color: var(--color-mustard);
  }

  .card-expand-trigger svg {
    transition: transform var(--transition-slow) var(--transition-spring);
  }

  .tool-card.is-expanded .card-expand-trigger svg {
    transform: rotate(180deg);
  }

  /* SERVICE LIST STYLES (Accordion) */
  .card-services {
    display: grid;
    grid-template-rows: 0fr;
    transition: grid-template-rows var(--transition-slow) var(--transition-spring);
  }

  .tool-card.is-expanded .card-services {
    grid-template-rows: 1fr;
  }

  .card-services-inner {
    min-height: 0;
    overflow: hidden;
    opacity: 0;
    transition: opacity var(--transition-base) ease;
    padding-top: 0;
  }

  .tool-card.is-expanded .card-services-inner {
    opacity: 1;
    transition-delay: 100ms;
    padding-top: var(--spacing-sm);
  }

  .services-heading {
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 2px;
    color: var(--color-slate-blue);
    margin-bottom: var(--spacing-sm);
    padding-bottom: 8px;
    border-bottom: 1px solid rgba(74, 95, 122, 0.15);
  }

  .services-list {
    display: grid;
    gap: 12px;
  }

  .services-list dt {
    font-size: 14px;
    font-weight: 700;
    color: var(--color-card-dark-text);
    margin-bottom: 2px;
  }

  .services-list dd {
    font-size: 13px;
    color: rgba(43, 46, 51, 0.65);
    line-height: 1.5;
    margin-left: 0;
    padding-left: 12px;
    border-left: 2px solid rgba(212, 160, 23, 0.3);
  }

  .services-stack {
    margin-top: var(--spacing-sm);
    padding-top: var(--spacing-sm);
    border-top: 1px solid rgba(74, 95, 122, 0.15);
    font-size: 12px;
    font-weight: 600;
    color: var(--color-slate-blue);
    font-style: italic;
  }


  /* ABOUT SECTION */
  .about-content {
    max-width: 950px;
    margin: 0 auto;
  }

  .about-bio-layout {
    display: grid;
    grid-template-columns: 240px 1fr;
    gap: var(--spacing-2xl);
    align-items: start;
    margin-bottom: var(--spacing-xl);
  }

  .about-photo {
    position: sticky;
    top: 120px;
  }

  .about-photo-img {
    width: 100%;
    aspect-ratio: 3 / 4;
    object-fit: cover;
    object-position: center top;
    border-radius: 12px;
    border: 2px solid rgba(201, 169, 97, 0.25);
  }

  .about-bio {
    min-width: 0;
  }

  .about-text {
    font-size: 18px;
    line-height: 1.8;
    color: rgba(209, 209, 209, 0.82);
    margin-bottom: var(--spacing-lg);
  }

  .about-text strong {
    color: var(--color-off-white);
  }

  .about-text em {
    color: var(--color-gold);
    font-style: italic;
  }


  /* CONTACT SECTION */
  .contact-section {
    background-color: rgba(53, 56, 61, 0.5);
  }

  .contact-content {
    text-align: center;
    max-width: 600px;
    margin: 0 auto;
  }

  .contact-email {
    display: inline-block;
    font-size: 32px;
    font-weight: 600;
    color: var(--color-mustard);
    margin-bottom: var(--spacing-md);
    transition: all var(--transition-base) ease;
  }

  .contact-email:hover,
  .contact-email:focus-visible {
    color: var(--color-gold);
    transform: scale(1.05);
  }

  .contact-note {
    font-size: 16px;
    color: var(--color-medium-grey);
  }

  /* FOOTER */
  .site-footer {
    background-color: var(--color-deep-charcoal);
    border-top: 1px solid rgba(74, 95, 122, 0.15);
    padding: var(--spacing-xl) 5%;
    text-align: center;
  }

  .site-footer p {
    font-size: 14px;
    color: var(--color-cool-grey);
  }

  /* RESPONSIVE */
  @media (max-width: 1023px) {
    .hero-section {
      padding: var(--spacing-3xl) 5% 75px;
      margin-top: 70px;
    }

    .hero-title {
      font-size: 40px;
    }

    .cta-button {
      padding: 20px 50px;
    }

    .about-bio-layout {
      grid-template-columns: 200px 1fr;
      gap: var(--spacing-xl);
    }
  }

  @media (max-width: 767px) {
    .hero-section {
      min-height: 90vh;
    }

    .hero-eyebrow {
      font-size: 11px;
    }

    .hero-subtitle {
      font-size: 18px;
    }

    .tool-card {
      padding: 14px 16px;
    }

    .card-header {
      flex-direction: column;
      gap: 12px;
    }

    .card-action-link {
      align-self: flex-start;
    }

    .contact-email {
      font-size: 24px;
    }

    .about-bio-layout {
      grid-template-columns: 1fr;
      gap: var(--spacing-lg);
    }

    .about-photo {
      position: static;
      max-width: 180px;
      margin: 0 auto;
    }

    .about-text {
      font-size: 16px;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.card-expand-trigger').forEach(trigger => {
      trigger.addEventListener('click', () => {
        const card = trigger.closest('.tool-card');
        const isExpanded = card.classList.toggle('is-expanded');
        trigger.setAttribute('aria-expanded', String(isExpanded));
      });
      trigger.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          trigger.click();
        }
      });
    });
  });
</script>
