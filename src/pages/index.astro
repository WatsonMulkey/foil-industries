---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import ServiceCard from '../components/ServiceCard.astro';
import ProjectCard from '../components/ProjectCard.astro';
import { Image } from 'astro:assets';
import watsonHeadshot from '../assets/images/watson-headshot.jpg';
import theNumberPreview from '../assets/images/the-number-preview.png';

const serviceCards = [
  {
    title: 'Product Management',
    tagline: '"People dont want to buy a quarter inch drill, they want a quarter inch hole."',
    skills: ['Product Strategy', 'User Research', 'Data Analysis', 'GTM Planning'],
    services: [
      { title: 'Product Strategy & Vision', description: 'Defining product-market fit, user personas, competitive analysis, and long-term vision.' },
      { title: '0-1 Product Management', description: 'Validating, designing, planning, building, testing, and launching new products and features.' },
      { title: 'Agile Team Leadership', description: 'Agile ceremonies and facilitation for cross-functional teams of all sizes.' },
      { title: 'Product Coaching', description: 'Working with new Product Managers and stakeholders to better represent product needs and process.' },
      { title: 'Metrics & A/B Testing', description: 'Setting up data pipelines, dashboards, and experiments to measure success and inform roadmap decisions.' },
      { title: 'Go-to-Market Strategy', description: 'How, where, and when to launch.' },
      { title: 'User Research & Testing', description: 'Interviews, surveys, usability testing, and sentiment analysis.' },
      { title: 'Roadmap Planning', description: 'Prioritization frameworks, stakeholder alignment, and delivery tracking.' },
    ],
  },
  {
    title: 'Service Design',
    tagline: '"The best process is the one people actually follow."',
    skills: ['Agile Leadership', 'Process Design', 'Roadmap Mgmt', 'Stakeholder Alignment'],
    services: [
      { title: 'Process Architecture', description: 'Designing workflows that scale with organizational complexity while staying simple to follow.' },
      { title: 'Agile Transformation', description: 'Building frameworks for distributed teams\u2014ceremonies, cadences, and communication patterns that actually work.' },
      { title: 'Operational Documentation', description: 'Runbooks, SOPs, and knowledge bases that people reference instead of ignore.' },
      { title: 'Issue & Request Systems', description: 'Intake, triage, and resolution workflows that reduce bottlenecks and cycle time.' },
      { title: 'Executive Reporting', description: 'Dashboards and reporting pipelines that surface what leadership needs to know.' },
      { title: 'Cross-Functional Enablement', description: 'Training materials, onboarding guides, and reference content that empowers teams to self-serve.' },
      { title: 'Change Management', description: 'Rolling out new processes with adoption strategies that stick.' },
    ],
  },
  {
    title: 'Bespoke Tooling',
    tagline: '"If you can spec it, I can build it."',
    skills: ['Python / FastAPI', 'Vue / Astro', 'AI / LLMs / RAG', 'API Design'],
    servicesHeading: 'Capabilities',
    services: [
      { title: 'AI-Powered Applications', description: 'Custom tools leveraging LLMs with RAG architecture, prompt engineering, and reliability patterns.' },
      { title: 'Internal Tools & Dashboards', description: 'Admin panels, analytics suites, and operational interfaces tailored to your workflow.' },
      { title: 'Workflow Automation', description: 'Scripts, integrations, and pipelines that eliminate repetitive manual work.' },
      { title: 'Data Processing & ETL', description: 'Pipelines that clean, transform, and move data where it needs to go.' },
      { title: 'API Development', description: 'RESTful services, integrations, and middleware connecting your systems.' },
      { title: 'Prototypes & MVPs', description: 'Functional proof-of-concepts to validate ideas before major investment.' },
    ],
    stackNote: 'Stack: Python, FastAPI, Vue 3, SQL, Claude API',
  },
];
---

<BaseLayout>
  <Header />

  <main id="main-content">
    <!-- HERO SECTION -->
    <section id="hero" class="hero-section">
      <div class="hero-content">
        <div class="hero-eyebrow">FOIL ENGINEERING</div>
        <h1 class="hero-title">
          Solving problems,<br>
          <i>not just</i><br>
          <span class="highlight">building solutions</span>
        </h1>
        <p class="hero-subtitle">
          Product solutions. // Service design and process management. // Bespoke tooling.
        </p>
        <p class="hero-support">Over 10 years of software and people experience; helping you get the right solution to the right problem.</p>
        <a href="#services" class="cta-button">Explore Services</a>
      </div>
    </section>

    <!-- SOLUTIONS SECTION -->
    <section id="services" class="section solutions-section">
      <div class="section-header">
        <div class="section-eyebrow">WHAT WE DO</div>
        <h2 class="section-title">Services</h2>
        <p class="section-subtitle">
          From organizational and process change to 0-1 product design and custom tooling.
        </p>
      </div>

      <div class="solutions-grid">
        {serviceCards.map(card => (
          <ServiceCard
            title={card.title}
            tagline={card.tagline}
            skills={card.skills}
            servicesHeading={card.servicesHeading}
            services={card.services}
            stackNote={card.stackNote}
          />
        ))}
      </div>
    </section>

    <!-- PROJECTS SECTION -->
    <section id="projects" class="section projects-section">
      <div class="section-header">
        <div class="section-eyebrow">OUR WORK</div>
        <h2 class="section-title">Projects</h2>
      </div>
      <div class="projects-grid">
        <ProjectCard
          href="/TheNumber"
          name="The Number"
          description="A personal budgeting app that tells you one number — how much you can spend today."
          cta="Try it"
          image={theNumberPreview}
          imageAlt="The Number app screenshot"
        />
      </div>
    </section>

    <!-- ABOUT SECTION -->
    <section id="about" class="section about-section">
      <div class="section-header">
        <div class="section-eyebrow">WHO WE ARE</div>
        <h2 class="section-title">About</h2>
      </div>

      <div class="about-content">
        <div class="about-bio-layout">
          <div class="about-photo">
            <Image src={watsonHeadshot} alt="Watson Mulkey" class="about-photo-img" loading="lazy" />
          </div>

          <div class="about-bio">
            <p class="about-text">
              I'm <strong>Watson</strong>, I have over 10 years of working in tech and I believe the most important part of any project is understanding the correct problem. Too often, teams build exactly what was asked for—and miss what was actually needed. That gap is where I work.
            </p>
            <p class="about-text">
              With over 10 years of tech experience as a Product Manager, I've worked with numerous brands and companies like <strong>Bookshop.org</strong>, <strong>Sony</strong>, <strong>Whirlpool</strong>, and <strong>IBM</strong>.
            </p>
            <p class="about-text">
              The name <strong>FOIL</strong> comes from literary theory—a foil character exists to make the protagonist shine. That's the role of everything I build: <em>amplify your strengths, don't overshadow them</em>. Whether it's a full website rebuild, an internal tool, or a process overhaul, the philosophy is the same—build the right solution for the correct problem.
            </p>
          </div>
        </div>

      </div>
    </section>

    <!-- CONTACT SECTION -->
    <section id="contact" class="section contact-section">
      <div class="section-header">
        <div class="section-eyebrow">GET IN TOUCH</div>
        <h2 class="section-title">Contact</h2>
        <p class="section-subtitle">
          Interested in collaboration or have questions about the tools? Let's connect.
        </p>
      </div>

      <div class="contact-content">
        <a href="mailto:watson@foilengineering.com" class="contact-email">
          watson@foilengineering.com
        </a>
        <p class="contact-note">
          Currently accepting freelance projects and product management opportunities.
        </p>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <p>&copy; 2026 FOIL Engineering.</p>
  </footer>

</BaseLayout>

<style>
  /* HERO SECTION */
  .hero-section {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--spacing-4xl) 5% 100px 5%;
    text-align: center;
    position: relative;
    margin-top: 90px;
  }

  /* Desktop: offset hero for sidebar */
  @media (min-width: 1024px) {
    .hero-section {
      padding-left: 200px;
    }
  }

  /* Light explosion from bottom-left - inspired by photographic lens flare */
  /* Positioned on main element so it bleeds across sections */
  main::before {
    content: '';
    position: fixed;
    bottom: -15%;
    left: -12%;
    width: 85%;
    height: 120vh;
    background: radial-gradient(
      ellipse at center,
      rgba(212, 160, 23, 0.65) 0%,
      rgba(201, 169, 97, 0.5) 20%,
      rgba(212, 133, 0, 0.35) 35%,
      rgba(74, 95, 122, 0.18) 50%,
      rgba(74, 95, 122, 0.08) 60%,
      transparent 75%
    );
    filter: blur(120px);
    opacity: 1;
    pointer-events: none;
    animation: pulse-glow 8s ease-in-out infinite;
    z-index: 0;
  }

  /* Warm-to-cool gradient overlay */
  .hero-section::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      to bottom,
      transparent 0%,
      rgba(43, 46, 51, 0.15) 40%,
      rgba(26, 29, 33, 0.3) 100%
    );
    pointer-events: none;
    z-index: 0;
  }

  @keyframes pulse-glow {
    0%, 100% {
      opacity: 0.95;
      transform: scale(1);
    }
    50% {
      opacity: 1;
      transform: scale(1.08);
    }
  }

  /* Ensure content sits above lens flare */
  main > * {
    position: relative;
    z-index: 1;
  }

  .hero-content {
    position: relative;
    z-index: 1;
    max-width: 850px;
  }

  /* Floating particles - mimicking dust specs in photograph */
  .hero-title::before,
  .hero-title::after,
  .hero-subtitle::before,
  .hero-subtitle::after {
    content: '';
    position: absolute;
    width: 3px;
    height: 3px;
    background: rgba(255, 255, 255, 0.6);
    border-radius: 50%;
    pointer-events: none;
    animation: float-particle 12s ease-in-out infinite;
    box-shadow: 0 0 4px rgba(255, 255, 255, 0.4);
  }

  .hero-title::before {
    top: 15%;
    left: 10%;
    animation-delay: 0s;
  }

  .hero-title::after {
    top: 70%;
    right: 15%;
    animation-delay: 3s;
    width: 2px;
    height: 2px;
  }

  .hero-subtitle::before {
    top: -30px;
    left: 20%;
    animation-delay: 6s;
    width: 4px;
    height: 4px;
  }

  .hero-subtitle::after {
    bottom: -40px;
    right: 25%;
    animation-delay: 9s;
    width: 2.5px;
    height: 2.5px;
  }

  @keyframes float-particle {
    0%, 100% {
      transform: translate(0, 0);
      opacity: 0.3;
    }
    25% {
      transform: translate(15px, -20px);
      opacity: 0.7;
    }
    50% {
      transform: translate(-10px, -35px);
      opacity: 1;
    }
    75% {
      transform: translate(20px, -15px);
      opacity: 0.5;
    }
  }

  .hero-eyebrow {
    font-size: 13px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 4px;
    color: rgba(201, 169, 97, 0.9);
    margin-bottom: var(--spacing-md);
  }

  .hero-title {
    margin-bottom: var(--spacing-lg);
  }

  .hero-title .highlight {
    color: var(--color-mustard);
    text-shadow:
      0 0 20px rgba(212, 160, 23, 0.4),
      0 0 40px rgba(212, 160, 23, 0.2),
      0 0 60px rgba(212, 160, 23, 0.1);
    filter: brightness(1.1);
  }

  .hero-subtitle {
    font-size: clamp(19px, 1.9vw, 26px);
    color: rgba(209, 209, 209, 0.85);
    max-width: 700px;
    margin: 0 auto var(--spacing-md);
    line-height: 1.65;
  }

  .hero-support {
    font-size: 16px;
    color: var(--color-terracotta-light);
    font-weight: 600;
    margin-bottom: var(--spacing-2xl);
    font-style: italic;
  }

  .cta-button {
    display: inline-block;
    padding: 26px 68px;
    background-color: var(--color-mustard);
    color: var(--color-charcoal);
    font-size: 16px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    border-radius: 8px;
    box-shadow:
      0 7px 28px rgba(212, 160, 23, 0.3),
      0 0 30px rgba(212, 160, 23, 0.25);
    transition: all 320ms var(--transition-spring);
    position: relative;
  }

  /* Halo glow effect on button */
  .cta-button::before {
    content: '';
    position: absolute;
    inset: -3px;
    background: radial-gradient(
      circle at center,
      rgba(212, 160, 23, 0.3) 0%,
      transparent 70%
    );
    border-radius: 10px;
    opacity: 0;
    transition: opacity 320ms ease;
    pointer-events: none;
    filter: blur(8px);
  }

  .cta-button:hover::before {
    opacity: 1;
  }

  .cta-button:hover,
  .cta-button:focus-visible {
    background-color: var(--color-gold);
    transform: translateY(-3px) scale(1.02);
    box-shadow: 0 14px 45px rgba(212, 160, 23, 0.45);
    color: var(--color-charcoal);
  }

  /* SOLUTIONS SECTION */
  .solutions-section {
    background-color: rgba(53, 56, 61, 0.3);
    position: relative;
  }

  .solutions-grid {
    max-width: 950px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  /* PROJECTS SECTION */
  .projects-section {
    background-color: rgba(53, 56, 61, 0.15);
  }

  .projects-grid {
    max-width: 950px;
    margin: 0 auto;
  }

  .project-card {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-xl);
    background-color: var(--color-card-light);
    border-radius: 12px;
    border: 1px solid rgba(74, 95, 122, 0.12);
    box-shadow: 0 12px 35px rgba(0, 0, 0, 0.4);
    overflow: hidden;
    transition: all var(--transition-slow) var(--transition-spring);
    text-decoration: none;
  }

  .project-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 24px 55px rgba(0, 0, 0, 0.5);
    border-color: var(--color-slate-blue);
  }

  .project-screenshot {
    background: rgba(43, 46, 51, 0.6);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--spacing-lg);
  }

  .project-screenshot img {
    width: 100%;
    height: auto;
    border-radius: 8px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  }

  .project-info {
    padding: var(--spacing-xl) var(--spacing-xl) var(--spacing-xl) 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .project-name {
    font-size: 28px;
    font-weight: 700;
    color: var(--color-card-dark-text);
    margin-bottom: var(--spacing-sm);
  }

  .project-description {
    font-size: 16px;
    color: rgba(43, 46, 51, 0.7);
    line-height: 1.6;
    margin-bottom: var(--spacing-lg);
  }

  .project-cta {
    display: inline-block;
    font-size: 14px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: var(--color-slate-blue);
    transition: color var(--transition-base) ease;
  }

  .project-card:hover .project-cta {
    color: var(--color-mustard);
  }

  /* ABOUT SECTION */
  .about-content {
    max-width: 950px;
    margin: 0 auto;
  }

  .about-bio-layout {
    display: grid;
    grid-template-columns: 240px 1fr;
    gap: var(--spacing-2xl);
    align-items: start;
    margin-bottom: var(--spacing-xl);
  }

  .about-photo {
    position: sticky;
    top: 120px;
  }

  .about-photo-img {
    width: 100%;
    aspect-ratio: 3 / 4;
    object-fit: cover;
    object-position: center top;
    border-radius: 12px;
    border: 2px solid rgba(201, 169, 97, 0.25);
  }

  .about-bio {
    min-width: 0;
  }

  .about-text {
    font-size: 18px;
    line-height: 1.8;
    color: rgba(209, 209, 209, 0.82);
    margin-bottom: var(--spacing-lg);
  }

  .about-text strong {
    color: var(--color-off-white);
  }

  .about-text em {
    color: var(--color-gold);
    font-style: italic;
  }


  /* CONTACT SECTION */
  .contact-section {
    background-color: rgba(53, 56, 61, 0.5);
  }

  .contact-content {
    text-align: center;
    max-width: 600px;
    margin: 0 auto;
  }

  .contact-email {
    display: inline-block;
    font-size: 32px;
    font-weight: 600;
    color: var(--color-mustard);
    margin-bottom: var(--spacing-md);
    transition: all var(--transition-base) ease;
  }

  .contact-email:hover,
  .contact-email:focus-visible {
    color: var(--color-gold);
    transform: scale(1.05);
  }

  .contact-note {
    font-size: 16px;
    color: var(--color-medium-grey);
  }

  /* FOOTER */
  .site-footer {
    background-color: var(--color-deep-charcoal);
    border-top: 1px solid rgba(74, 95, 122, 0.15);
    padding: var(--spacing-xl) 5%;
    text-align: center;
  }

  .site-footer p {
    font-size: 14px;
    color: var(--color-cool-grey);
  }

  /* RESPONSIVE */
  @media (max-width: 1023px) {
    .hero-section {
      padding: var(--spacing-3xl) 5% 75px;
      margin-top: 70px;
    }

    .hero-title {
      font-size: 40px;
    }

    .cta-button {
      padding: 20px 50px;
    }

    .about-bio-layout {
      grid-template-columns: 200px 1fr;
      gap: var(--spacing-xl);
    }
  }

  @media (max-width: 767px) {
    .hero-section {
      min-height: 90vh;
    }

    .hero-eyebrow {
      font-size: 11px;
    }

    .hero-subtitle {
      font-size: 18px;
    }

    .project-card {
      grid-template-columns: 1fr;
    }

    .project-info {
      padding: 0 var(--spacing-lg) var(--spacing-lg);
    }

    .project-screenshot {
      padding: var(--spacing-md);
    }

    .contact-email {
      font-size: 24px;
    }

    .about-bio-layout {
      grid-template-columns: 1fr;
      gap: var(--spacing-lg);
    }

    .about-photo {
      position: static;
      max-width: 180px;
      margin: 0 auto;
    }

    .about-text {
      font-size: 16px;
    }
  }
</style>

